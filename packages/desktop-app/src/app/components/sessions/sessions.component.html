<ng-container *ngIf="eGlobalFilteredSessions.length > 0">
  <table class="table table-account-cards">
    <thead>
    <tr class="{{eCompactMode ? 'compact' : ''}}">
      <th (click)="orderSessionsByName(columnSettings[0].orderStyle)"><span>Session</span><i
        [ngClass]="[columnSettings[0].orderStyle ? 'descendent-order-arrow' : 'ascendent-order-arrow', columnSettings[0].activeArrow ? 'active-arrow' : 'hidden-arrow', !columnSettings[0].orderStyle && !columnSettings[0].activeArrow ? 'moon-Caret-down' : 'moon-Dropdown']"></i>
      </th>
      <th (click)="orderSessionsByRole(columnSettings[1].orderStyle)" *ngIf="eGlobalColumns.role"><span>Role</span><i
        [ngClass]="[columnSettings[1].orderStyle ? 'descendent-order-arrow' : 'ascendent-order-arrow', columnSettings[1].activeArrow ? 'active-arrow' : 'hidden-arrow', !columnSettings[1].orderStyle && !columnSettings[1].activeArrow ? 'moon-Caret-down' : 'moon-Dropdown']"></i>
      </th>
      <th (click)="orderSessionsByType(columnSettings[2].orderStyle)" *ngIf="eGlobalColumns.provider"><span>Provider</span><i
        [ngClass]="[columnSettings[2].orderStyle ? 'descendent-order-arrow' : 'ascendent-order-arrow', columnSettings[2].activeArrow ? 'active-arrow' : 'hidden-arrow', !columnSettings[2].orderStyle && !columnSettings[2].activeArrow ? 'moon-Caret-down' : 'moon-Dropdown']"></i>
      </th>
      <th (click)="orderSessionsByNamedProfile(columnSettings[3].orderStyle)" *ngIf="eGlobalColumns.namedProfile">
        <span>Named P{{eCompactMode ? '' : 'rofile'}}</span><i
        [ngClass]="[columnSettings[3].orderStyle ? 'descendent-order-arrow' : 'ascendent-order-arrow', columnSettings[3].activeArrow ? 'active-arrow' : 'hidden-arrow', !columnSettings[3].orderStyle && !columnSettings[3].activeArrow ? 'moon-Caret-down' : 'moon-Dropdown']"></i>
      </th>
      <th (click)="orderSessionsByNamedRegion(columnSettings[4].orderStyle)" *ngIf="!eCompactMode && eGlobalColumns.region"><span>Region</span><i
        [ngClass]="[columnSettings[4].orderStyle ? 'descendent-order-arrow' : 'ascendent-order-arrow', columnSettings[4].activeArrow ? 'active-arrow' : 'hidden-arrow', !columnSettings[4].orderStyle && !columnSettings[4].activeArrow ? 'moon-Caret-down' : 'moon-Dropdown']"></i>
      </th>
      <th><a (click)="openFilterColumn();"><span class="vertical-rule"></span><i class="moon-Table"></i></a></th>
    </tr>
    </thead>
    <tbody>
    <tr class="active {{eCompactMode ? 'compact' : ''}}" app-session-card [globalColumns]="eGlobalColumns" [compactMode]="eCompactMode"
        [session]="session" *ngFor="let session of eGlobalFilteredSessions | filtering:true"></tr>
    <tr class="{{eCompactMode ? 'compact' : ''}}" app-session-card [globalColumns]="eGlobalColumns" [compactMode]="eCompactMode" [session]="session"
        *ngFor="let session of eGlobalFilteredSessions | filtering:false"></tr>
    </tbody>
  </table>
</ng-container>

<ng-container *ngIf="eGlobalFilteredSessions.length === 0 && eGlobalFilterGroup.searchFilter !== '' && !eGlobalFilterExtended">
  <div class="centered">
    <img src="assets/images/no-result-found.png" alt="" title=""/>
    <br>
    <span>No results found for "{{eGlobalFilterGroup.searchFilter}}".</span>
  </div>
</ng-container>

<ng-container *ngIf="eGlobalFilteredSessions.length === 0 && eGlobalFilterExtended">
  <div class="centered corrected">
    <img src="assets/images/no-result-found-filter.png" alt="" title=""/>
    <br>
    <span>No results found. Try to <u>remove</u> some filters.</span>
  </div>
</ng-container>

<ng-container *ngIf="eGlobalFilteredSessions.length === 0 && eGlobalFilterGroup.searchFilter === '' && !eGlobalFilterExtended">
  <div class="centered">
    <img src="assets/images/no-sessions.png" alt="" title=""/>
    <br>
    <span>Start by adding your first session.</span>
  </div>
</ng-container>

<ng-container *ngIf="selectedSession">
  <div class="option-bar" [ngClass]="selectedSession.type.toLowerCase() + '-opt-bar'">
    <div class="opt-bar-session-button">
      <a class="icon-button start-session" (click)="startSession();" *ngIf="selectedSession.status === eSessionStatus.inactive"><i class="moon-Play-filled">
        <div class="dark-theme-filling"></div>
      </i><span>{{eCompactMode ? '' : '&nbsp;Start Session'}}</span></a>
      <a class="icon-button stop-session" (click)="stopSession();"
         *ngIf="selectedSession.status === eSessionStatus.active || selectedSession.status === eSessionStatus.pending"><i class="moon-Stop">
        <div class="dark-theme-filling"></div>
      </i><span>{{eCompactMode ? '' : '&nbsp;Stop Session'}}</span></a>
    </div>
    <div [ngClass]="(selectedSession.type === eSessionType.awsIamUser && selectedSession.status !== eSessionStatus.active) ? 'iam-session-selected' : ''"
         class="opt-bar-middle-section">
      <div class="opt-bar-middle-left-buttons">

        <ng-container
          *ngIf="selectedSession.type === eSessionType.awsSsoRole || selectedSession.type === eSessionType.awsIamRoleFederated || selectedSession.type === eSessionType.awsIamRoleChained">
          <a class="icon-button open-web-console" (click)="openAwsWebConsole();" matTooltip="Open Web Console">
            <i class="moon-Open-Web-Console"></i>
          </a>
        </ng-container>
        <a class="icon-button" *ngIf="selectedSession.type !== eSessionType.azure" (click)="changeRegionModalOpen();" matTooltip="Change Region"><i
          class="moon-Region"></i></a>
        <a class="icon-button" *ngIf="selectedSession.type !== eSessionType.azure" (click)="changeProfileModalOpen();"
           matTooltip="Change Named Profile"><i class="moon-User"></i></a>
        <a class="icon-button" (click)="ssmModalOpen();" *ngIf="selectedSession.type !== eSessionType.azure" matTooltip="View SSM sessions"><i
          class="moon-Server"></i></a>
        <a class="icon-button"
           *ngIf="selectedSession.type === eSessionType.awsIamUser || selectedSession.type === eSessionType.awsIamRoleFederated || selectedSession.type === eSessionType.awsIamRoleChained"
           (click)="editCurrentSession();" matTooltip="Edit Session"><i class="moon-Edit"></i></a>
      </div>
      <span class="separator"></span>

      <div class="opt-bar-middle-right-buttons">
        <a class="icon-button" (click)="pinSession();" *ngIf="optionService.pinned.indexOf(selectedSession.sessionId) === -1"
           matTooltip="Pin Session"><i class="moon-Pin"></i></a>
        <a class="icon-button" (click)="unpinSession();" *ngIf="optionService.pinned.indexOf(selectedSession.sessionId) !== -1"
           matTooltip="Unpin Session"><i class="moon-Pin-filled"></i></a>
        <ng-container *ngIf="selectedSession.type !== eSessionType.awsSsoRole && selectedSession.type !== eSessionType.azure">
          <a class="icon-button" (click)="deleteSession();" matTooltip="Delete Session"><i class="moon-Delete"></i></a>
        </ng-container>
      </div>
    </div>

    <div class="session-name">1 selected</div>
  </div>
</ng-container>
