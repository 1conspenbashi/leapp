<div class="background">
  <app-profile></app-profile>
  <div class="container-fluid background">
    <app-profile-sidebar></app-profile-sidebar>

    <h1>Options</h1>
    <p>Tweak various aspects of Leapp</p>
    <form [formGroup]="form" class="form center-vertical text-left" (submit)="saveOptions();">

      <div class="form-group" style="width: 100%; display: inline-block;">
        <label>Google IdP URL<span class="danger-text">*</span></label>
        <input formControlName="idpUrl" type="text" class="form-control" placeholder="Idp Url *" [value]="idpUrlValue" >
        <small class="text-error" *ngIf="(form.controls['idpUrl'].dirty || form.controls['idpUrl'].touched) && form.controls['idpUrl'].errors">Insert the Google IdP URL</small>
      </div>

      <h2>Proxy settings</h2>
      <div class="form-group" style="width: 16%; display: inline-block;">
        <label>Protocol</label>
        <select formControlName="proxyProtocol" class="form-control" [value]="proxyProtocol">
          <option value="http">HTTP</option>
          <option value="https">HTTPS</option>
        </select>
      </div>
      <div class="form-group" style="width: 6%; display: inline-block; padding-top: 35px; padding-left: 3px;">://</div>
      <div class="form-group" style="width: 56%; display: inline-block;">
        <label>Proxy URL</label>
        <input formControlName="proxyUrl" type="text" class="form-control" placeholder="Proxy Url" [value]="proxyUrl" >
      </div>
      <div class="form-group" style="width: 6%; display: inline-block; padding-top: 35px; padding-left: 3px;">:</div>
      <div class="form-group" style="width: 16%; display: inline-block;">
        <label>Proxy Port</label>
        <input formControlName="proxyPort" type="text" class="form-control" placeholder="Proxy Url" [value]="proxyPort" >
      </div>

      <div class="form-group" style="width: 100%; display: inline-block; height: 35px; padding-top: 10px;">
        <span><input type="checkbox" (click)="showProxyAuthentication = !showProxyAuthentication" class="d-inline-block" style="height: 20px!important;"/> Use authentication?</span>
      </div>

      <div class="form-group" style="width: 49%; display: inline-block;" *ngIf="showProxyAuthentication">
        <label>Username</label>
        <input formControlName="proxyUsername" type="text" class="form-control" placeholder="Proxy Username" [value]="proxyUsername" >
      </div>
      <div class="form-group" style="width: 2%; display: inline-block;"></div>
      <div class="form-group" style="width: 49%; display: inline-block;" *ngIf="showProxyAuthentication">
        <label>Password</label>
        <input formControlName="proxyPassword" type="password" class="form-control" placeholder="Proxy Password" [value]="proxyPassword" >
      </div>

      <button type="button" (click)="goBack();" class="pull-left disabled">Back</button>
      <button type="button" (click)="saveOptions();" [disabled]="!form.valid" [ngClass]="(!form.valid) ? 'pull-right disabled': 'pull-right'">Save</button>
    </form>
  </div>
</div>
